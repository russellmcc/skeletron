* SKELETRON - a fun slack app to answer questions

** Setup

Use node 12.x and its corresponding npm.

#+begin_src bash
cp _firebaserc .firebaserc
vi .firebaserc # set your own project

npm install -g firebase-tools
firebase login
firebase functions:config:set slack.signing_secret=xxx
firebase functions:config:set slack.bot_token=xoxb-111-111-xxx
#+end_src

** How to run the app on your laptop

#+begin_src bash
cd functions
npm i
firebase functions:config:get > .runtimeconfig.json
cd -
firebase serve
#+end_src

I recommend /ngrok/ to connect your local server to a public url slack can access

** How to deploy

#+begin_src bash
firebase deploy
#+end_src

** How to configure Slack apps/Firebase

*** Slack App

https://api.slack.com/apps

 - Set `https://{your domain}.cloudfunctions.net/slack/events` as the Request URL for `/echo-from-firebase` slash command.
 - Add `commands`, `chat:write` scopes
 - Install the app to your development workspace

*** Cloud Functions for Firebase

You have nothing to configure. Don't forget enabling the billing info if it's your first time to use it.

** How to make sure if it works

 - Go the development Slack workspace
 - Invite the bot user to a channel
 - add skull emoji to message

** LICENSE

The MIT License
